{"version":3,"sources":["../lib/xform.js"],"names":["transform","createTransformer","template","object","data","Map","result","Object","keys","key","node","value","context","call","tpl","obj"],"mappings":";;;;;QAAgBA,S,GAAAA,S;QAsBAC,iB,GAAAA,iB;AAtBT,SAASD,SAAT,GAAiE;AAAA,MAA9CE,QAA8C,yDAAnC,EAAmC;AAAA,MAA/BC,MAA+B,yDAAtB,EAAsB;AAAA,MAAlBC,IAAkB,yDAAX,IAAIC,GAAJ,EAAW;;AACtE,MAAIC,SAAS,EAAb;;AADsE;AAAA;AAAA;;AAAA;AAGtE,yBAAgBC,OAAOC,IAAP,CAAYN,QAAZ,CAAhB,8HAAuC;AAAA,UAA9BO,GAA8B;;AACrC,UAAIC,OAAOR,SAASO,GAAT,CAAX;AACA,UAAIE,QAAQR,OAAOM,GAAP,CAAZ;;AAEA,UAAIG,UAAU;AACZV,0BADY;AAEZC;AAFY,OAAd;;AAKA,UAAI,OAAOO,IAAP,KAAgB,UAApB,EAAgC;AAC9BA,aAAKG,IAAL,CAAUD,OAAV,EAAmBD,KAAnB,EAA0BL,MAA1B,EAAkCG,GAAlC,EAAuCL,IAAvC;AACD,OAFD,MAEO;AACLE,eAAOG,GAAP,IAAcT,UAAUU,IAAV,EAAgBC,KAAhB,EAAuBP,IAAvB,CAAd;AACD;AACF;AAjBqE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBtE,SAAOE,MAAP;AACD;;AAEM,SAASL,iBAAT,CAA2Ba,GAA3B,EAAgC;AACrC,SAAO;AAAA,WAAOd,UAAUc,GAAV,EAAeC,GAAf,CAAP;AAAA,GAAP;AACD","file":"xform.js","sourcesContent":["export function transform(template = {}, object = {}, data = new Map()) {\n  let result = {};\n\n  for (let key of Object.keys(template)) {\n    let node = template[key];\n    let value = object[key];\n\n    let context = {\n      template,\n      object\n    };\n\n    if (typeof node === 'function') {\n      node.call(context, value, result, key, data);\n    } else {\n      result[key] = transform(node, value, data);\n    }\n  }\n\n  return result;\n}\n\nexport function createTransformer(tpl) {\n  return obj => transform(tpl, obj);\n}\n"]}